# Занятие 1. Знакомство с Java

## Инструментальные средства разработки на Java

### Платформа разработки JDK

[Java Development Kit](https://ru.wikipedia.org/wiki/Java_Development_Kit) (JDK) — комплект инструментальных средств для разработки приложений на языке [Java](https://ru.wikipedia.org/wiki/Java). Включает компилятор [javac](https://ru.wikipedia.org/wiki/Javac), утилиты, библиотеки классов Java API, документацию и примеры, среду исполнения приложений — [Java Runtime Environment](https://ru.wikipedia.org/wiki/Java_Runtime_Environment) (JRE).

JRE включает виртуальную машину [Java Virtual Machine](https://ru.wikipedia.org/wiki/Java_Virtual_Machine) (VM) и откомпилированные библиотеки классов Java API. Позволяет запускать Java приложения на любых устройствах или операционных системах.

Существует три редакции JDK:

- SE (Standard Edition) — стандартная редакция JDK, которая используется для разработки консольных и настольных приложений.
- EE (Enterprise Edition) — редакция для разработки распределенных приложений масштаба предприятий.
- ME (Micro Edition) — редакция для разработки приложений мобильных устройств и встраиваемых систем.

### Интегрированная среда разработки

Интегрированная среда разработки (англ. Integrated Development Environment (IDE) — комплекс программных средств, используемый программистами для разработки программного обеспечения (ПО), в том числе, текстовый редактор, средства автоматизации сборки, отладчик.

Существует несколько популярных IDE для разработки Java приложений:
- [IntelliJ IDEA](https://www.jetbrains.com/idea/)
- [Eclipse](https://eclipseide.org/release/)
- [NetBeans](https://netbeans.apache.org/)

### Что будем использовать?

Для выполнение заданий необходимо использовать следующие инструментальные средства:

- [Oracle JDK SE](https://www.oracle.com/java/technologies/downloads/) или [OpenJDK](https://openjdk.org/install/) (версии 8 или выше).
- [IntelliJ IDEA Community Edition](https://www.jetbrains.com/ru-ru/idea/download/#section=windows)

## Работа с IDE

### Создание проекта

Запустить «IntelliJ IDEA». Если открыт приветственный экран «Welcome to IntelliJ IDEA», нажать кнопку «New Project». Если открыто основное окно, выбрать пункт меню «File | New | Project».

![Снимок экрана: создание нового проекта](https://github.com/proglangsys/java/blob/main/images/lab1_1.png)

Выбрать пункт «New Project» из списка слева. Задать имя нового проекта «Name» и изменить его месторасположение «Location», если необходимо. В списке «Languages» должен быть выбран язык «Java». В списке «JDK» должна быть выбрана JDK версии 8 или выше.

### Создание пакета и класса

В окне «Project» щелкнуть правой кнопкой мыши папку «src», выбрать пункт «New | Java Class» (Alt+Insert).

![Снимок экрана: создание нового класса](https://github.com/proglangsys/java/blob/main/images/lab1_2.png)

Задать полное имя класса следующим образом: «ru.isu.math.example.MyMainClass» и нажать кнопку «OK». В результате будет создан пакет «ru.isu.math.example» и класс «MyMainClass» внутри этого пакета.

```java
package ru.isu.math.example;  

public class MyMainClass {  
}
```

### Первая программа

Добавить в созданный класс main-метод с необходимыми инструкциями.
```java
package ru.isu.math.example;  

public class MyMainClass {  
    public static void main(String[] args) {  
        System.out.println("Hello World!");  
    }  
}
```

### Сборка и запуск приложения

Выбрать пункт меню «Run | Run…» или нажать кнопку «Run» на панели инструментов сверху — «зеленый треугольник» (Alt+Shift+F10). В раскрывшемся списке выбрать «MyMainClass».

Запустится компиляция исходного кода программы в байт-код и затем исполнение приложения в Java VM. Результат выполнения программы, сообщение «Hello World!», будет выводиться во встроенной командной строке.

![Снимок экрана: проект (слева) и редактируемый класс (справа)](https://github.com/proglangsys/java/blob/main/images/lab1_3.png)

## Устройство программы

### Класс
*Класс* — это. 

### Пакет
*Пакет* — это папка, содержащая классы. 

В самом верху исходного файла `.java` может быть включено ключевое слово `package`, после которого следует идентификатор, задающий имя пакета, например:
```java
package ru.isu.math.example;  
```
Физически такой пакет будет представлен следующей структурой папок:
```
ru/isu/math/example;  
```

### Класс верхнего уровня

*Класс верхнего уровня* — это класс, который не является вложенным (nested), то есть он не определен внутри другого класса. Он находится непосредственно на уровне пакета.

### Main-класс

*Main-класс* — класс, в котором есть main-метод. 
*Main-метод* запускает поток исполнения программы. 
Main-метод вызывается виртуальной машиной Java VM:
```java
public class MyMainClass {
    // main-метод
    public static void main(String[] args) {
        // инструкции
    }
}
```

### Инструкции и блоки кода

_Инструкция кода_ — команда для выполнения в Java VM. Инструкция заканчивается точкой с запятой `;`.
```java
// Объявить и инициализировать переменную целочисленного типа
int x = 1;
```

_Блок кода_ — набор инструкций, заключенный в пару симметричных фигурных скобок.
```java
{  
    int x = 1;
    x = x + 2;  
}
```

###  Вывод текста в командную строку

Вывод текста в командную строку осуществляется через встроенный поток вывода:
```java
public class MyMainClass {
    // main-метод  
    public static void main(String[] args) {  
        // Вывести сообщение "my text" в командную строку
        System.out.println("my text");  
    }  
}
```

### Локальные переменные

_Локальная переменная_ — это переменная, объявленная внутри блока кода. Область видимости такой переменной ограничена блоком кода, в котором она объявлена.
```java
public static void main(String[] args) {  
    int x; // Объявить локальную переменную
    x = 1; // Присвоить значение локальной переменной
    System.out.println("x = " + x); // Вывести значение переменной
}
```

При объявлении переменной необходимо указать ее тип данных. Например, если переменная имеет тип `int`, то в качестве своих значений она может принимать только целые числа:
```java
int x = 2;
```
Переменная, объявленная с типом `double`, содержит только вещественные числа:
```java
double y = 2.5;
```
Переменная с типом String, будет ссылаться на строки
```java
String s = "my text";
```

### Цикл for

_Цикл_  — управляющая инструкция, которая определяет выполнение сопряженного блока кода (тела цикла) множество раз.

Цикл for имеет следующий синтаксис:
```java
for (инициализация счетчика; условие завершения; итерация) блок кода
```

Например, следующий цикл выполняет инструкции тела десять раз:
```java
for (int i = 0; i < 10; i++) {  
    System.out.println("i = " + i);  
}
```

### Аргументы командной строки

Аргументы командной строки передаются приложению в виде единственного параметра main-метода — массива строк:
```java
public class MyMainClass {  
    public static void main(String[] args) {
        // Вывести аргументы командной строки
        for (int i = 0; i < args.length; i++) {
            String arg = args[i];
            System.out.printf("Argument %d: %s%n", i, arg);
        }
    }
}
```

При запуске приложения из командной строки аргументы указываются после имени main-класса:
```bash
java ru.isu.math.example.MyMainClass p0 p1 p2
```

Для того чтобы задать аргументы командной строки в IDE, необходимо создать новую конфигурацию запуска следующим образом: выбрать пункт меню «Run | Edit Configurations…», добавить новую конфигурацию, выбрав в списке слева пункт «Application», задать имя при необходимости, указать main-класс, ввести значения аргументов в поле «Program Arguments», нажать кнопку «OK».

![Снимок экрана: создание конфигурации запуска приложения](https://github.com/proglangsys/java/blob/main/images/lab1_5.png)

Затем запустить программу с помощью созданной конфигурации, выбрав ее по имени в выпадающем списке слева от кнопки запуска «Run».

![Снимок экрана: результат запуска приложения](https://github.com/proglangsys/java/blob/main/images/lab1_6.png)

### Ввод данных из командной строки

Чтобы считать данные из командной строки можно использовать объект типа Scanner, например:
```java
package ru.isu.math.example;

import java.util.Scanner; // Импортировать класс Scanner

public class MyMainClass {
    public static void main(String[] args) {
        // Создать сканер для чтения данных из командной строки
        Scanner scanner = new Scanner(System.in);
        System.out.println("Введите число");
        // Считать вещественное число
        double x = scanner.nextDouble();
        System.out.println("Вы ввели число: " + x);
    }
}
```

При запуске программы из IDE, данные вводятся во встроенной командной сроке IDE.

![Снимок экрана: ввод данных в эмуляторе командной строки IDE](https://github.com/proglangsys/java/blob/main/images/lab2_1.png)


### Генерация случайных чисел

Для генерации случайных чисел можно использовать класс `Math`, например:
```java 
double x = Math.random(); // Сгенерировать число между 0 и 1.0
```

Также можно воспользоваться объектом типа `Random`, например:
```java 
package ru.isu.math.example;

import java.util.Random; // Импортировать класс Random

public class MyMainClass {
    public static void main(String[] args) {
        // Создать генератор случайных чисел
        Random random = new Random(); 
        // Сгенерировать случайное число в диапозоне от 0 до 49, включительно
        int n = rand.nextInt(50);
    }
}
```


## Компиляция и запуск из командной строки

Для того чтобы откомпилировать класс из командной строки, необходимо перейти в директорию, в которой находится файл с исходным кодом:
```bash
cd <path to the scr directory>
```
запустить компилятор javac, указав в качестве параметра название файла с исходным кодом с расширением:
```bash
javac -d target ru/isu/math/example/MyMainClass.java
```

В результате компилятор создаст файл с байт-кодом с тем же именем класса, но расширением «class» — «MyMainClass.class» в папке «target/ru/isu/math/example».

Для того чтобы исполнить откомпилированный класс необходимо перейти в директорию, в которой находится файл с байт-кодом:
```bash
cd <path to the target directory>
```
и запустить Java VM, указав в качестве параметра название файла с байт-кодом без расширения:
```bash
java ru.isu.math.example.MyMainClass
```

> Когда переменная среды JAVA_HOME не настроена, следует указывать полный путь к компилятору javac и виртуальной машине java соответственно:
```bash
<path to JDK>/bin/javac -d target ru/isu/math/example/MyMainClass.java
<path to JDK>/bin/java ru.isu.math.example.MyMainClass
```

### Дизассемблирование байт-кода

Для того чтобы дизассемблировать откомпилированный класс необходимо перейти в директорию, в которой находится файл с байт-кодом:
```bash
cd <path to the target directory>
```
запустить дизассемблер javap, указав в качестве параметра название файла с байт-кодом:
```bash
javap -c ru/isu/math/example/MyMainClass.class
```

> Когда переменная среды JAVA_HOME не настроена, следует указывать полный путь к дизассемблеру javap:
```bash
<path to JDK>/bin/javap -c ru/isu/math/example/MyMainClass.class
```

Результат дизассемблирования байт-кода выводится в командную строку.

![Снимок экрана: результат дизассемблирования байт-кода](https://github.com/proglangsys/java/blob/main/images/lab1_4.png)

## Задания

**Задание 1**

- Разработать консольное приложение, которое позволяет пользователю конвертировать значения между различными единицами измерения длинны, веса, времени, площади или др.
- Реализовать перевод по крайней мере пяти единиц измерений.
- Реализовать пользовательский ввод значений и выбор единиц измерений.

**Задание 2**
- Разработать консольную игру "Угадай число". Игровое приложение загадывает целое число в заданном диапазоне, а пользователь пытается его угадать. Игровое приложение дает подсказки: "больше" или "меньше".
- Реализовать случайную генерации загадываемого числа.
- Реализовать пользовательский ввод диапазона загадываемых чисел.

**Задание 3**
 - Разработать продвинутый вариант консольной игры "Угадай число", добавив выбор уровня сложности, от которого зависит количество попыток отгадать число.    
- Реализовать ограничение числа попыток.
- Реализовать возможность начать игру заново.
 - Скомпилировать Java программу в командной строке с помощью команды javac.
-  Запустить Java программу в командной строке с помощью команды java.
- Дизассемблировать Java программу (байт код) с помощью команды javad.
 - Собрать и запустить игру в виде JAR-файла.

## Вопросы

1. Платформа разработки JDK
2. Платформа исполнения JRE
3. Интерпретация байт-кода (Just-in-Time компиляция)
4. Main-метод и main-класс
5. Литералы
6. Идентификаторы
7. Локальные переменные
8. Блоки кода
9. Сборка мусора
10. Управляющие инструкции

## Дополнительные ресурсы

- Г. Шилдт. Java Руководство для начинающих. Глава 1
- [Компилятор javac](https://docs.oracle.com/en/java/javase/13/docs/specs/man/javac.html)
- [Создание проекта в IntelliJIDEA](https://www.jetbrains.com/help/idea/new-project-wizard.html#new-project-no-frameworks)
- [Main-класс и main-метод](https://docs.oracle.com/javase/tutorial/getStarted/application/index.html)
- [Евклидово расстояние](https://ru.wikipedia.org/wiki/%D0%95%D0%B2%D0%BA%D0%BB%D0%B8%D0%B4%D0%BE%D0%B2%D0%B0_%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D0%BA%D0%B0)
- [Библиотека «Apache Commons Math»](https://commons.apache.org/proper/commons-math/)
- [Класс Class EuclideanDistance из «Apache Commons Math»](https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/ml/distance/EuclideanDistance.html)
- [Maven репозиторий](https://mvnrepository.com/artifact/org.apache.commons/commons-math3/3.6.1)
- [IntelliJIDEA на русском](https://www.jetbrains.com/ru-ru/idea/resources)
- [Maven в IntelliJ IDEA](https://www.jetbrains.com/help/idea/maven-support.html)
- [Gradle в IntelliJ IDEA](https://www.jetbrains.com/help/idea/gradle.html)
